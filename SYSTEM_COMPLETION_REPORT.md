# ุชูุฑูุฑ ูุญุต ุงููุธุงู - ูุง ูุญุชุงุฌ ูุฅููุงู

ุชุงุฑูุฎ ุงููุญุต: 2026-01-11

---

## โ ูุง ูุนูู ุจุดูู ุตุญูุญ

### 1. ุงูุจููุฉ ุงูุฃุณุงุณูุฉ
- โ **Frontend**: ูุนูู ุนูู ุงููููุฐ 10002
- โ **Backend**: ูุนูู ุนูู ุงููููุฐ 10001
- โ **ูุงุนุฏุฉ ุงูุจูุงูุงุช**: PostgreSQL 18 ูุชุตูุฉ
- โ **ุงููุงุฌูุงุช**: ุฌููุน ุงูุตูุญุงุช ุชุนูู

### 2. ุงููุงุฌูุงุช (Frontend)
- โ **ูุงุฌูุฉ ุณูุฏ ุงูุตุฑู**: ุงูุชุตููู ูุญุณูู ููุนูู
- โ **ุงููุธุงุฆู ุงูุฃุณุงุณูุฉ**: ุฅุถุงูุฉุ ุชุนุฏููุ ุญุฐู ุงูุนูููุงุช
- โ **ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช**: ูุนูู
- โ **ุงูุชุตููู**: ูุดุงุจู ูู Onyx Pro

### 3. API Endpoints ุงูููุฌูุฏ
- โ `/api/entities` - ุงูููุงูุงุช
- โ `/api/accounts` - ุงูุญุณุงุจุงุช
- โ `/api/cash-boxes` - ุงูุตูุงุฏูู
- โ `/api/banks-wallets` - ุงูุจููู ูุงููุญุงูุธ
- โ `/api/journal-entries` - ุงููููุฏ ุงูููููุฉ
- โ `/api/stock-movements` - ุญุฑูุงุช ุงููุฎุฒูู

---

## โ ูุง ูุญุชุงุฌ ูุฅููุงู

### 1. ุณูุฏุงุช ุงูุตุฑู/ุงููุจุถ (Payments/Receipts) - ุฃููููุฉ ุนุงููุฉ ุฌุฏุงู โ๏ธ

#### ุงููุดููุฉ:
- โ **ูุง ููุฌุฏ ุฌุฏูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช** ูุณูุฏุงุช ุงูุตุฑู/ุงููุจุถ
- โ **ูุง ููุฌุฏ API endpoint** ูุญูุธ/ุงุณุชุฑุฌุงุน ุงูุณูุฏุงุช
- โ **ุงูุจูุงูุงุช ุชูุญูุธ ููุท ูู state ูุญูู** (Frontend ููุท)
- โ **ุนูุฏ ุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ**: ุงูุจูุงูุงุช ุชูููุฏ

#### ุงููุทููุจ:

##### ุฃ. ุฅูุดุงุก ุฌุฏูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
```typescript
// ูู server/db/schema.ts
export const paymentVouchers = pgTable('payment_vouchers', {
  id: text('id').primaryKey(),
  entityId: text('entity_id').notNull().references(() => entities.id),
  type: text('type').notNull(), // 'in' | 'out' (ุณูุฏ ูุจุถ | ุณูุฏ ุตุฑู)
  cashBoxId: text('cash_box_id').references(() => cashBoxes.id),
  date: timestamp('date').notNull(),
  currency: text('currency').default('YER').notNull(),
  exchangeRate: decimal('exchange_rate', { precision: 15, scale: 4 }).default('1').notNull(),
  totalAmount: decimal('total_amount', { precision: 15, scale: 2 }).notNull(),
  reference: text('reference'),
  createdBy: text('created_by'),
  createdAt: timestamp('created_at').defaultNow().notNull(),
  updatedAt: timestamp('updated_at').defaultNow().notNull(),
});

export const paymentVoucherOperations = pgTable('payment_voucher_operations', {
  id: text('id').primaryKey(),
  voucherId: text('voucher_id').notNull().references(() => paymentVouchers.id, { onDelete: 'cascade' }),
  accountType: text('account_type').notNull(),
  accountSubtype: text('account_subtype').notNull(),
  chartAccountId: text('chart_account_id').notNull().references(() => accounts.id),
  analyticalAccountId: text('analytical_account_id').references(() => accounts.id),
  amount: decimal('amount', { precision: 15, scale: 2 }).notNull(),
  description: text('description'),
});
```

##### ุจ. ุฅูุดุงุก API Routes
```typescript
// ูู server/routes/payments.ts
- GET /api/payments - ุฌูุจ ุฌููุน ุงูุณูุฏุงุช
- GET /api/payments/:id - ุฌูุจ ุณูุฏ ูุญุฏุฏ
- POST /api/payments - ุฅูุดุงุก ุณูุฏ ุฌุฏูุฏ
- PUT /api/payments/:id - ุชุญุฏูุซ ุณูุฏ
- DELETE /api/payments/:id - ุญุฐู ุณูุฏ
```

##### ุฌ. ุฑุจุท Frontend ูุน API
```typescript
// ูู client/src/lib/api.ts
- paymentsApi.get()
- paymentsApi.create()
- paymentsApi.update()
- paymentsApi.delete()
```

##### ุฏ. ุชุญุฏูุซ Frontend
```typescript
// ูู client/src/pages/Payments.tsx
- ุงุณุชุจุฏุงู useState ุงููุญูู ุจู API calls
- ุญูุธ ุงูุณูุฏุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุงุณุชุฑุฌุงุน ุงูุณูุฏุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
```

---

### 2. ุงูููุฒุงุช ุงูุฅุถุงููุฉ ุงููุทููุจุฉ

#### ุฃ. ุฑุจุท ุงูุณูุฏุงุช ุจุงูููุฏ ุงููุญุงุณุจู
- โ ุนูุฏ ุญูุธ ุณูุฏ ุตุฑู/ูุจุถุ ูุฌุจ ุฅูุดุงุก ููุฏ ูุญุงุณุจู ุชููุงุฆูุงู
- โ ุฑุจุท ุงูุณูุฏุงุช ุจูููุฏ ุงูููููุฉ (journalEntries)

#### ุจ. ุชุญุฏูุซ ุฃุฑุตุฏุฉ ุงูุตูุงุฏูู
- โ ุนูุฏ ุญูุธ ุณูุฏ ุตุฑูุ ูุฌุจ ุฎุตู ุงููุจูุบ ูู ุฑุตูุฏ ุงูุตูุฏูู
- โ ุนูุฏ ุญูุธ ุณูุฏ ูุจุถุ ูุฌุจ ุฅุถุงูุฉ ุงููุจูุบ ุฅูู ุฑุตูุฏ ุงูุตูุฏูู

#### ุฌ. ุงูุชูุงุฑูุฑ
- โ ุชูุฑูุฑ ุณูุฏุงุช ุงูุตุฑู/ุงููุจุถ
- โ ุชูุฑูุฑ ุงูุชุฏูู ุงูููุฏู
- โ ุชูุฑูุฑ ุฃุฑุตุฏุฉ ุงูุตูุงุฏูู

#### ุฏ. ุงูุทุจุงุนุฉ
- โ ุทุจุงุนุฉ ุณูุฏ ุงูุตุฑู
- โ ุทุจุงุนุฉ ุณูุฏ ุงููุจุถ

---

## ๐ ูุงุฆูุฉ ุงูููุงู ุงููุทููุจุฉ (TODO)

### ุงูุฃููููุฉ ุงูุนุงููุฉ (High Priority) ๐ด
1. **ุฅูุดุงุก ุฌุฏูู payment_vouchers ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช**
2. **ุฅูุดุงุก ุฌุฏูู payment_voucher_operations ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช**
3. **ุฅูุดุงุก API route `/api/payments`**
4. **ุฑุจุท Frontend ูุน API ูุญูุธ ุงูุณูุฏุงุช**
5. **ุชุญุฏูุซ ุฃุฑุตุฏุฉ ุงูุตูุงุฏูู ุนูุฏ ุญูุธ ุงูุณูุฏ**

### ุงูุฃููููุฉ ุงููุชูุณุทุฉ (Medium Priority) ๐ก
6. **ุฑุจุท ุงูุณูุฏุงุช ุจุงูููุฏ ุงููุญุงุณุจู**
7. **ุชุทููุฑ ุชูุฑูุฑ ุณูุฏุงุช ุงูุตุฑู/ุงููุจุถ**
8. **ุชุทููุฑ ุชูุฑูุฑ ุงูุชุฏูู ุงูููุฏู**
9. **ุฅุถุงูุฉ ูุธููุฉ ุงูุทุจุงุนุฉ**

### ุงูุฃููููุฉ ุงูููุฎูุถุฉ (Low Priority) ๐ข
10. **ุชุญุณูู UX/UI**
11. **ุฅุถุงูุฉ ููุงุชุฑ ูุชูุฏูุฉ**
12. **ุฅุถุงูุฉ ุชุตุฏูุฑ Excel/PDF**

---

## ๐ ููุฎุต

| ุงููููู | ุงูุญุงูุฉ | ุงููุณุจุฉ ุงูููุชููุฉ |
|--------|--------|-----------------|
| ุงููุงุฌูุงุช (UI) | โ ุฌุงูุฒุฉ | 100% |
| ุงูุชุตููู | โ ูุญุณูู | 100% |
| ูุงุนุฏุฉ ุงูุจูุงูุงุช | โ๏ธ ูุงูุต | 80% |
| API | โ๏ธ ูุงูุต | 85% |
| ุงูุชูุงูู | โ ุบูุฑ ููุชูู | 50% |
| ุงูููุฒุงุช ุงูุฅุถุงููุฉ | โ ุบูุฑ ููุฌูุฏุฉ | 30% |

**ุงููุณุจุฉ ุงูุฅุฌูุงููุฉ ููููุชูู**: ~70%

---

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ ุงูููุตู ุจูุง

1. **ุฅูุดุงุก ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช** (ุฃููููุฉ ุนุงููุฉ)
2. **ุฅูุดุงุก API endpoints** (ุฃููููุฉ ุนุงููุฉ)
3. **ุฑุจุท Frontend ูุน Backend** (ุฃููููุฉ ุนุงููุฉ)
4. **ุงุฎุชุจุงุฑ ุงูุชูุงูู** (ุฃููููุฉ ุนุงููุฉ)
5. **ุฅุถุงูุฉ ุงูููุฒุงุช ุงูุฅุถุงููุฉ** (ุฃููููุฉ ูุชูุณุทุฉ)

---

**ุชุงุฑูุฎ ุงูุชูุฑูุฑ**: 2026-01-11
**ุงููุงุญุต**: ูุธุงู ุงููุญุต ุงูุขูู
