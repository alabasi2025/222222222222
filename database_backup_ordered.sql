-- Database Backup (Ordered for FK constraints)
-- Generated at: 2026-01-11T02:38:08.434Z
-- Database: db_2222222

BEGIN;

-- 1. Entities first (no FK dependencies)
INSERT INTO "entities" ("id", "name", "type", "parent_id", "created_at", "updated_at") VALUES ('HOLD-001', 'مجموعة العباسي', 'holding', NULL, '"2025-12-28T17:26:29.067Z"', '"2025-12-28T17:26:29.067Z"');
INSERT INTO "entities" ("id", "name", "type", "parent_id", "created_at", "updated_at") VALUES ('UNIT-001', 'وحدة أعمال الحديدة', 'unit', 'HOLD-001', '"2025-12-28T09:29:02.340Z"', '"2025-12-28T09:29:02.340Z"');
INSERT INTO "entities" ("id", "name", "type", "parent_id", "created_at", "updated_at") VALUES ('UNIT-002', 'وحدة العباسي خاص', 'unit', 'HOLD-001', '"2025-12-28T09:29:02.371Z"', '"2025-12-28T09:29:02.371Z"');
INSERT INTO "entities" ("id", "name", "type", "parent_id", "created_at", "updated_at") VALUES ('UNIT-003', 'وحدة أعمال صنعاء', 'unit', 'HOLD-001', '"2025-12-28T19:51:28.231Z"', '"2025-12-28T19:51:28.231Z"');
INSERT INTO "entities" ("id", "name", "type", "parent_id", "created_at", "updated_at") VALUES ('UNIT-005', 'محمّدي والعباسي', 'unit', 'HOLD-001', '"2025-12-28T19:53:35.604Z"', '"2025-12-28T19:53:35.604Z"');
INSERT INTO "entities" ("id", "name", "type", "parent_id", "created_at", "updated_at") VALUES ('BR-001', 'الفرع الرئيسي (العباسي خاص)', 'branch', 'UNIT-002', '"2025-12-28T09:29:02.390Z"', '"2025-12-28T09:29:02.390Z"');
INSERT INTO "entities" ("id", "name", "type", "parent_id", "created_at", "updated_at") VALUES ('BR-002', 'الفرع الرئيسي (الحديدة)', 'branch', 'UNIT-001', '"2025-12-28T09:29:02.419Z"', '"2025-12-28T09:29:02.419Z"');
INSERT INTO "entities" ("id", "name", "type", "parent_id", "created_at", "updated_at") VALUES ('BR-003', 'فرع الدهمية', 'branch', 'UNIT-001', '"2025-12-28T09:29:02.441Z"', '"2025-12-28T09:29:02.441Z"');
INSERT INTO "entities" ("id", "name", "type", "parent_id", "created_at", "updated_at") VALUES ('BR-004', 'فرع الصبالية', 'branch', 'UNIT-001', '"2025-12-28T09:29:02.456Z"', '"2025-12-28T09:29:02.456Z"');
INSERT INTO "entities" ("id", "name", "type", "parent_id", "created_at", "updated_at") VALUES ('BR-005', 'فرع غليل', 'branch', 'UNIT-001', '"2025-12-28T09:29:02.485Z"', '"2025-12-28T09:29:02.485Z"');
INSERT INTO "entities" ("id", "name", "type", "parent_id", "created_at", "updated_at") VALUES ('BR-107', 'New Branch Test', 'branch', 'UNIT-002', '"2025-12-28T16:36:13.749Z"', '"2025-12-28T16:36:13.749Z"');

-- 2. Accounts (depends on entities)
INSERT INTO "accounts" ("id", "name", "type", "level", "balance", "parent_id", "is_group", "subtype", "currencies", "default_currency", "account_group", "entity_id", "branch_id", "created_at", "updated_at") VALUES ('101', 'البنوك', 'employee_operations', 1, '0.00', NULL, false, 'bank', '["YER","SAR","USD"]', 'YER', NULL, 'UNIT-001', NULL, '"2026-01-09T04:33:57.152Z"', '"2026-01-09T04:33:57.152Z"');
INSERT INTO "accounts" ("id", "name", "type", "level", "balance", "parent_id", "is_group", "subtype", "currencies", "default_currency", "account_group", "entity_id", "branch_id", "created_at", "updated_at") VALUES ('102', 'التوريد للمحافظ ', 'employee_operations', 1, '0.00', NULL, false, 'wallet', '["YER","SAR","USD"]', 'YER', NULL, 'UNIT-001', NULL, '"2026-01-09T04:34:31.569Z"', '"2026-01-09T04:34:31.569Z"');
INSERT INTO "accounts" ("id", "name", "type", "level", "balance", "parent_id", "is_group", "subtype", "currencies", "default_currency", "account_group", "entity_id", "branch_id", "created_at", "updated_at") VALUES ('11.1.', 'تجربة ', 'employee_operations', 1, '0.00', NULL, false, 'general', '["YER","SAR","USD"]', 'YER', NULL, 'UNIT-001', NULL, '"2026-01-10T03:35:45.621Z"', '"2026-01-10T03:35:45.621Z"');
INSERT INTO "accounts" ("id", "name", "type", "level", "balance", "parent_id", "is_group", "subtype", "currencies", "default_currency", "account_group", "entity_id", "branch_id", "created_at", "updated_at") VALUES ('1111', 'صناديق التحصيل والتوريد', 'employee_operations', 1, '0.00', NULL, true, 'general', '["YER","SAR","USD"]', 'YER', NULL, 'UNIT-001', NULL, '"2026-01-10T04:45:05.100Z"', '"2026-01-10T04:45:05.100Z"');
INSERT INTO "accounts" ("id", "name", "type", "level", "balance", "parent_id", "is_group", "subtype", "currencies", "default_currency", "account_group", "entity_id", "branch_id", "created_at", "updated_at") VALUES ('1200', 'صندوق التحصيل والتوريد غليل', 'employee_operations', 2, '0.00', '1111', false, 'cash_box', '["YER","SAR","USD"]', 'YER', NULL, 'UNIT-001', NULL, '"2026-01-10T04:44:36.878Z"', '"2026-01-10T01:45:20.608Z"');
INSERT INTO "accounts" ("id", "name", "type", "level", "balance", "parent_id", "is_group", "subtype", "currencies", "default_currency", "account_group", "entity_id", "branch_id", "created_at", "updated_at") VALUES ('100', 'صندوق التحصيل والتوريد الدهمية', 'employee_operations', 2, '0.00', '1111', false, 'cash_box', '["YER","SAR","USD"]', 'YER', NULL, 'UNIT-001', NULL, '"2026-01-09T04:28:35.832Z"', '"2026-01-10T01:46:16.633Z"');
INSERT INTO "accounts" ("id", "name", "type", "level", "balance", "parent_id", "is_group", "subtype", "currencies", "default_currency", "account_group", "entity_id", "branch_id", "created_at", "updated_at") VALUES ('1300', 'صندوق التحصيل والتوريد الصبالية', 'employee_operations', 2, '0.00', '1111', false, 'cash_box', '["YER","SAR","USD"]', 'YER', NULL, 'UNIT-001', NULL, '"2026-01-10T04:46:43.170Z"', '"2026-01-10T04:46:43.170Z"');
INSERT INTO "accounts" ("id", "name", "type", "level", "balance", "parent_id", "is_group", "subtype", "currencies", "default_currency", "account_group", "entity_id", "branch_id", "created_at", "updated_at") VALUES ('103', 'الصرافين ', 'employee_operations', 1, '0.00', NULL, true, 'exchange', '["YER","SAR","USD"]', 'YER', NULL, 'UNIT-001', NULL, '"2026-01-09T04:35:06.004Z"', '"2026-01-10T01:47:19.960Z"');
INSERT INTO "accounts" ("id", "name", "type", "level", "balance", "parent_id", "is_group", "subtype", "currencies", "default_currency", "account_group", "entity_id", "branch_id", "created_at", "updated_at") VALUES ('1123', 'الحوشبي ', 'employee_operations', 2, '0.00', '103', false, 'exchange', '["YER","SAR","USD"]', 'YER', NULL, 'UNIT-001', NULL, '"2026-01-10T04:48:00.282Z"', '"2026-01-10T04:48:00.282Z"');

-- 3. Banks & Wallets (depends on entities, accounts)
INSERT INTO "banks_wallets" ("id", "entity_id", "name", "chart_account_id", "type", "account_type", "account_number", "currencies", "balance", "is_active", "created_at", "updated_at") VALUES ('BW-1768020894045', 'UNIT-001', 'الحوشبي ', '1123', 'exchange', 'current', NULL, '["YER","SAR","USD"]', '0.00', true, '"2026-01-10T04:54:54.052Z"', '"2026-01-10T04:54:54.052Z"');
INSERT INTO "banks_wallets" ("id", "entity_id", "name", "chart_account_id", "type", "account_type", "account_number", "currencies", "balance", "is_active", "created_at", "updated_at") VALUES ('BW-1768020914277', 'UNIT-001', 'الكريمي', '101', 'bank', 'current', NULL, '["YER","SAR","USD"]', '0.00', true, '"2026-01-10T04:55:14.282Z"', '"2026-01-10T04:55:14.282Z"');
INSERT INTO "banks_wallets" ("id", "entity_id", "name", "chart_account_id", "type", "account_type", "account_number", "currencies", "balance", "is_active", "created_at", "updated_at") VALUES ('BW-1768020928757', 'UNIT-001', 'جوالي', '102', 'wallet', 'wallet', NULL, '["YER","SAR","USD"]', '0.00', true, '"2026-01-10T04:55:28.762Z"', '"2026-01-10T04:55:28.762Z"');

-- 4. Cash Boxes (depends on entities, accounts)
INSERT INTO "cash_boxes" ("id", "entity_id", "name", "account_id", "branch_id", "type", "balance", "responsible", "is_active", "created_at", "updated_at", "currencies", "default_currency") VALUES ('CB-1767933607683', 'UNIT-001', 'صندوق التحصيل والتوريد الدهمية', '100', NULL, 'cash_box', '0.00', NULL, true, '"2026-01-09T04:40:07.732Z"', '"2026-01-09T04:40:07.732Z"', '["YER","SAR","USD"]', 'YER');
INSERT INTO "cash_boxes" ("id", "entity_id", "name", "account_id", "branch_id", "type", "balance", "responsible", "is_active", "created_at", "updated_at", "currencies", "default_currency") VALUES ('CB-1768020528165', 'UNIT-001', 'صندوق التحصيل والتوريد غليل', '1200', NULL, 'cash_box', '0.00', NULL, true, '"2026-01-10T04:48:48.171Z"', '"2026-01-10T04:48:48.171Z"', '["YER","SAR","USD"]', 'YER');

-- 5. Units (measurement units, no FK)
INSERT INTO "units" ("id", "name", "symbol", "base_unit", "conversion_factor", "is_active", "created_at") VALUES ('UNIT-LTR', 'لتر', 'L', NULL, '1.0000', true, '"2025-12-28T19:55:54.118Z"');

-- 6. Item Categories (depends on entities)
INSERT INTO "item_categories" ("id", "entity_id", "name", "parent_id", "description", "is_active", "created_at") VALUES ('CAT-FUEL', 'UNIT-001', 'محروقات', NULL, NULL, true, '"2025-12-28T19:55:54.125Z"');

-- 7. Warehouses (depends on entities)
INSERT INTO "warehouses" ("id", "entity_id", "branch_id", "name", "code", "address", "manager", "phone", "type", "is_active", "created_at", "updated_at") VALUES ('WH-HOD-001', 'UNIT-001', NULL, 'مخزن الديزل الدهمية', 'HOD-DSL-01', NULL, NULL, NULL, 'sub', true, '"2025-12-28T19:55:54.105Z"', '"2025-12-28T19:55:54.105Z"');
INSERT INTO "warehouses" ("id", "entity_id", "branch_id", "name", "code", "address", "manager", "phone", "type", "is_active", "created_at", "updated_at") VALUES ('WH-DIESEL-SABALIA', 'UNIT-001', 'BR-004', 'مخزن الديزل الصبالية', 'WH-DIESEL-SABALIA', NULL, NULL, NULL, 'sub', true, '"2025-12-28T22:14:31.189Z"', '"2025-12-28T22:14:31.189Z"');
INSERT INTO "warehouses" ("id", "entity_id", "branch_id", "name", "code", "address", "manager", "phone", "type", "is_active", "created_at", "updated_at") VALUES ('WH-DIESEL-DAHMIYA', 'UNIT-001', 'BR-003', 'مخزن الديزل الدهمية', 'WH-DIESEL-DAHMIYA', NULL, NULL, NULL, 'sub', true, '"2025-12-28T22:25:02.791Z"', '"2025-12-28T22:25:02.791Z"');

-- 8. Items (depends on entities, item_categories, units)
INSERT INTO "items" ("id", "entity_id", "code", "name", "name_en", "barcode", "category_id", "unit_id", "type", "purchase_price", "sale_price", "min_stock", "max_stock", "reorder_point", "tax_rate", "account_id", "cogs_account_id", "revenue_account_id", "description", "image", "is_active", "created_at", "updated_at") VALUES ('ITM-DSL-001', 'UNIT-001', 'DSL-001', 'ديزل', NULL, NULL, 'CAT-FUEL', 'UNIT-LTR', 'stock', '0.00', '0.00', '0.000', NULL, '0.000', '15.00', NULL, NULL, NULL, NULL, NULL, true, '"2025-12-28T19:55:54.130Z"', '"2025-12-28T19:55:54.130Z"');

-- 9. Item Stock (depends on items, warehouses)
INSERT INTO "item_stock" ("id", "item_id", "warehouse_id", "quantity", "avg_cost", "last_purchase_price", "last_sale_price", "updated_at") VALUES ('IS-NYLW8aK_SMJaEuSlmDaN4', 'ITM-DSL-001', 'WH-HOD-001', '50000.000', '500.00', NULL, NULL, '"2025-12-28T19:02:39.324Z"');
INSERT INTO "item_stock" ("id", "item_id", "warehouse_id", "quantity", "avg_cost", "last_purchase_price", "last_sale_price", "updated_at") VALUES ('STK-1766961079518', 'ITM-DSL-001', 'WH-DIESEL-DAHMIYA', '5000.000', '50.00', '50.00', NULL, '"2025-12-28T19:42:51.242Z"');

-- 10. Stock Movements (depends on entities, items, warehouses)
INSERT INTO "stock_movements" ("id", "entity_id", "item_id", "warehouse_id", "to_warehouse_id", "type", "quantity", "unit_cost", "total_cost", "reference", "reference_type", "notes", "date", "created_by", "created_at", "to_account_id", "journal_entry_id") VALUES ('SM-74gDGIkXnQHAXWUv3vP4-', 'UNIT-001', 'ITM-DSL-001', 'WH-HOD-001', NULL, 'in', '50000.000', '500.00', '25000000.00', 'رصيد افتتاحي', 'manual', 'رفع الكمية الأولية للمستودع', '"2025-12-28T19:02:38.911Z"', NULL, '"2025-12-28T22:02:39.014Z"', NULL, NULL);
INSERT INTO "stock_movements" ("id", "entity_id", "item_id", "warehouse_id", "to_warehouse_id", "type", "quantity", "unit_cost", "total_cost", "reference", "reference_type", "notes", "date", "created_by", "created_at", "to_account_id", "journal_entry_id") VALUES ('PUR-1766960730778', 'UNIT-001', 'ITM-DSL-001', 'WH-DIESEL-DAHMIYA', NULL, 'in', '5000.000', '0.00', '0.00', 'PUR-INV-1766960730778', 'purchase', 'فاتورة مشتريات ديزل لمخزن الدهمية', '"2025-12-28T19:25:30.778Z"', NULL, '"2025-12-28T22:25:30.961Z"', NULL, NULL);
INSERT INTO "stock_movements" ("id", "entity_id", "item_id", "warehouse_id", "to_warehouse_id", "type", "quantity", "unit_cost", "total_cost", "reference", "reference_type", "notes", "date", "created_by", "created_at", "to_account_id", "journal_entry_id") VALUES ('PUR-1766961079480', 'UNIT-001', 'ITM-DSL-001', 'WH-DIESEL-DAHMIYA', NULL, 'in', '500.000', '50.00', '25000.00', '213', 'purchase', '', '"2025-12-27T21:00:00.000Z"', NULL, '"2025-12-28T22:31:19.498Z"', NULL, NULL);
INSERT INTO "stock_movements" ("id", "entity_id", "item_id", "warehouse_id", "to_warehouse_id", "type", "quantity", "unit_cost", "total_cost", "reference", "reference_type", "notes", "date", "created_by", "created_at", "to_account_id", "journal_entry_id") VALUES ('ISSUE-1766961618879', 'UNIT-001', 'ITM-DSL-001', 'WH-DIESEL-DAHMIYA', NULL, 'out', '1000.000', '0.00', '0.00', 'ISSUE-1766961618879', 'issue', 'أمر صرف مخزني', '"2025-12-28T19:40:18.879Z"', NULL, '"2025-12-28T22:40:19.115Z"', NULL, NULL);

COMMIT;
